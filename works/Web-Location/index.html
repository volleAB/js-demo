<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>网页定位导航效果</title>
	<style type="text/css">
		* { margin: 0;padding: 0; }
		body { font-size: 12px;line-height: 1.7; }
		li { list-style: none; }
		#content {width: 800px;margin: 0 auto;padding: 20px;}
		.item { padding: 20px;margin-bottom: 20px;border: 1px dotted #0088bb; }
		.item h2 { font-size: 16px;font-weight: bold;border-bottom: 2px solid #0088bb;margin-bottom: 10px; }
		.item li{ display: inline;margin-right: 10px; }
		.item li a img { width: 230px;height: 230px;border: none; }
		#menu { position: fixed;top: 100px;left: 50%;margin-left: 400px;width: 80px; }
		#menu ul li a { display: block;margin: 5px 0;width: 80px;height: 50px;font-size: 14px;font-weight: bold;color: #333;line-height: 50px;text-decoration: none;text-align: center; }
		#menu ul li a:hover,
		#menu ul li a.current { color: #ffffff;background: #0088bb; }
	</style>
</head>
<body>
<div id="menu">
	<ul>
		<li><a href="#item1" class="current">1F 男装</a></li>
		<li><a href="#item2">2F 女装</a></li>
		<li><a href="#item3">3F 美妆</a></li>
		<li><a href="#item4">4F 数码</a></li>
		<li><a href="#item5">5F 母婴</a></li>
	</ul>
</div>
<div id="content">
	<h1>Shopping</h1>
	<div id="item1" class="item">
		<h2>1F 男装</h2>
		<ul>
			<li><a href="#"><img src="./img/timg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/timg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/timg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/timg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/timg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/timg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/timg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/timg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/timg.jpeg" alt="Jordan"></a></li>
		</ul>
	</div>
	<div id="item2" class="item">
		<h2>2F 女装</h2>
		<ul>
			<li><a href="#"><img src="./img/qimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/qimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/qimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/qimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/qimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/qimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/qimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/qimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/qimg.jpg" alt="Jordan"></a></li>
		</ul>
	</div>
	<div id="item3" class="item">
		<h2>3F 美妆</h2>
		<ul>
			<li><a href="#"><img src="./img/wimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/wimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/wimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/wimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/wimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/wimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/wimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/wimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/wimg.jpg" alt="Jordan"></a></li>
		</ul>
	</div>
	<div id="item4" class="item">
		<h2>4F 数码</h2>
		<ul>
			<li><a href="#"><img src="./img/eimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/eimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/eimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/eimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/eimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/eimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/eimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/eimg.jpg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/eimg.jpg" alt="Jordan"></a></li>
		</ul>
	</div>
	<div id="item5" class="item">
		<h2>5F 母婴</h2>
		<ul>
			<li><a href="#"><img src="./img/rimg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/rimg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/rimg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/rimg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/rimg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/rimg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/rimg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/rimg.jpeg" alt="Jordan"></a></li>
			<li><a href="#"><img src="./img/rimg.jpeg" alt="Jordan"></a></li>
		</ul>
	</div>
</div>
<script type="text/javascript">
	var menu = document.getElementById('menu');
	var aA = document.getElementsByTagName('a');
	var aItem = document.getElementsByClassName('item');
	window.onscroll = function () {
		var top = document.documentElement.scrollTop;
		var currentLink = document.getElementsByClassName('current')[0];
		var currentId = "";
		for(var i = 0; i < aItem.length; i++) {
			aItem[i].index = i;
			var item = aItem[i];
			var itemTop = aItem[i].offsetTop;
			
			//console.log(aItem[i].index);
			if(top < aItem[1].offsetTop - 200) {
				currentId = "#" + aItem[0].getAttribute('id');
			}
			else if(top < aItem[2].offsetTop - 200) {
				currentId = "#" + aItem[1].getAttribute('id');
			}
			else if(top < aItem[3].offsetTop - 200) {
				currentId = "#" + aItem[2].getAttribute('id');
			}
			else if(top < aItem[4].offsetTop - 200) {
				currentId = "#" + aItem[3].getAttribute('id');
			}
			else {
				currentId = "#" + aItem[4].getAttribute('id');
			}
			// console.log(top,aItem[1].offsetTop,currentId);
		}
		if(currentId && currentLink.getAttribute('href') != currentId) {
			currentLink.classList.remove("current");
			for(var i = 0; i < aItem.length; i++ ) {
				if(aA[i].getAttribute('href') == currentId){
					// console.log(aA[i].classList)
					aA[i].classList.add("current")
				}
			}
		}
	}
</script>
</body>
</html>